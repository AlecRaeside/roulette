<!DOCTYPE html>
<html>
<head>
  <title>Roulette simulator</title>
</head>
<body>


<script>
var playGame = function(colour) {
  var number = Math.random() * 38;
  return number < 18;
}

Array.prototype.first = function(){
  return this[0];
};

Array.prototype.last = function(){
  return this[this.length - 1];
};


var Labouchere = function($$$, set) {

  var cashGoal = set.reduce(function(runningSum, element) {
    return runningSum + element;
  });

  console.log('Cash Goal: $'+cashGoal+'. Starting cash: $'+$$$)

  var lowestCashBalance = $$$;
  var wager = 0;
  var gamesPlayed = 0
  while ($$$ < cashGoal) {

    wager = set.first() + set.last()

    var win = playGame();

    if (win) {
      $$$ += wager;

      // Remove first number
      set.shift();

      // Remove last number
      set.pop();

    } else {
      $$$ -= wager;

      lowestCashBalance = Math.min(lowestCashBalance, $$$);

      set.push(wager);
    }
    gamesPlayed++;

    console.log("$"+$$$);
  }
  console.log("Games Played:"+ gamesPlayed + " Lowest cash balance: $"+lowestCashBalance);

}


var iterations = 1
for (var i = 0; i < iterations;i++) {
  Labouchere(40, [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]);
}




</script>
</body>
</html>